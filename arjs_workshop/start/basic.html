<!DOCTYPE html>
<html>
	<head>

    <!--
    AR.js workshop
    Author: Matt Nutsch
    Date: 6-16-2018
    Description: This is sample code for a workshop on developing an AR.js app.
    Notes:
    This code is based largely on Jerome Etienne's examples at: https://github.com/jeromeetienne/AR.js/tree/master/aframe

    -->

    <!-- include a-frame -->
    <script src="https://mnutsch.github.io/arjs_workshop/start/vendor/aframe/build/aframe.min.js"></script>

    <!-- include ar.js for aframe -->
    <script src='https://mnutsch.github.io/arjs_workshop/start/vendor/arjs/build/aframe-ar.js'></script>
    <script>ARjs.Context.baseURL = 'https://mnutsch.github.io/arjs_workshop/start/vendor/three.js/'</script>

  </head>

  <!-- start the body of your page -->
  <body style='margin : 0px; overflow: hidden;'>
    <!-- add some info at the top of the page -->
    <div style='position: fixed; top: 10px; width:100%; text-align: center; z-index: 1; text-color: white;'>
      Instructions:<br/>
      Point your camera at the AR Code.
    </div>    

    <!-- Define your 3d scene and enabled ar.js -->
    <a-scene embedded arjs='trackingMethod: best; debugUIEnabled: true;'>

      <!-- Declare assets for use in the scene. -->
      <a-assets timeout="1000">
        <!-- declare assets here -->    
      </a-assets>

      <!-- Create a anchor to attach your augmented reality -->
      <a-anchor hit-testing-enabled='true'>

        <!-- Add your static augmented reality items here -->

        <!-- Basic Text -->
        <!-- see: https://github.com/aframevr/aframe/blob/master/docs/components/text.md -->
        <a-entity position='0 0 0' scale='5 5 5' text="value: Hello World;"></a-entity>

        <!-- Basic Box -->             
        <!-- see: https://aframe.io/docs/0.8.0 -->
        <a-box position='0 0.5 0' material='opacity: 0.5; side:double; color:blue;'>          
        </a-box>

        <!-- Basic plane. -->
        <!-- see: https://aframe.io/docs/0.8.0 -->
        <!--<a-plane color="#CCC" height="1" width="1" rotation="-90 0 0"></a-plane>-->

      </a-anchor>

      <!-- Define a static camera -->
      <a-camera-static/>

    </a-scene>

    <script>		
      //wait until the page loads to perform the following
      window.onload = function () 
      {

        //add a sphere programatically
        var gameBall = document.createElement('a-sphere');
        var gameBallX = 0;
        var gameBallY = 1.25;
        var gameBallZ = -1;
        var gameBallVelocityX = 0.05;
        var gameBallVelocityY = 0.1;
        var gameBallRadius = 0.15;
        gameBall.setAttribute('color', '#EF2D5E'); //set the color of the sphere
        gameBall.setAttribute('radius', gameBallRadius); //set the size of the sphere
        console.log(gameBallX + ' ' + gameBallY + ' ' + gameBallZ);
        gameBall.setAttribute('position', gameBallX + ' ' + gameBallY + ' ' + gameBallZ); //set the position of the sphere
        scene.appendChild(gameBall); //add the sphere to the scene

      }
    </script>

  </body>

</html>
